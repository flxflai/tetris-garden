{"ast":null,"code":"import { c as createEvents, e as extend, u as useMutableCallback, a as createRoot, E as ErrorBoundary, B as Block, d as unmountComponentAtNode } from '../../dist/index-7dbf758c.esm.js';\nexport { t as ReactThreeFiber, w as _roots, v as act, o as addAfterEffect, n as addEffect, p as addTail, m as advance, j as applyProps, f as context, c as createEvents, g as createPortal, a as createRoot, k as dispose, e as extend, q as flushGlobalEffects, s as getRootState, l as invalidate, h as reconciler, r as render, d as unmountComponentAtNode, A as useFrame, C as useGraph, x as useInstanceHandle, D as useLoader, y as useStore, z as useThree } from '../../dist/index-7dbf758c.esm.js';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { PixelRatio, View, StyleSheet } from 'react-native';\nimport { GLView } from 'expo-gl';\nimport { FiberProvider, useContextBridge } from 'its-fine';\nimport Pressability from 'react-native/Libraries/Pressability/Pressability';\nimport 'react-reconciler/constants';\nimport 'zustand';\nimport 'react-reconciler';\nimport 'scheduler';\nimport 'suspend-react';\n\n/* eslint-enable import/default, import/no-named-as-default, import/no-named-as-default-member */\n\nconst EVENTS = {\n  PRESS: 'onPress',\n  PRESSIN: 'onPressIn',\n  PRESSOUT: 'onPressOut',\n  LONGPRESS: 'onLongPress',\n  HOVERIN: 'onHoverIn',\n  HOVEROUT: 'onHoverOut',\n  PRESSMOVE: 'onPressMove'\n};\nconst DOM_EVENTS = {\n  [EVENTS.PRESS]: 'onClick',\n  [EVENTS.PRESSIN]: 'onPointerDown',\n  [EVENTS.PRESSOUT]: 'onPointerUp',\n  [EVENTS.LONGPRESS]: 'onDoubleClick',\n  [EVENTS.HOVERIN]: 'onPointerOver',\n  [EVENTS.HOVEROUT]: 'onPointerOut',\n  [EVENTS.PRESSMOVE]: 'onPointerMove'\n};\n\n/** Default R3F event manager for react-native */\nfunction createTouchEvents(store) {\n  const {\n    handlePointer\n  } = createEvents(store);\n  const handleTouch = (event, name) => {\n    event.persist()\n\n    // Apply offset\n    ;\n\n    event.nativeEvent.offsetX = event.nativeEvent.locationX;\n    event.nativeEvent.offsetY = event.nativeEvent.locationY;\n\n    // Emulate DOM event\n    const callback = handlePointer(DOM_EVENTS[name]);\n    return callback(event.nativeEvent);\n  };\n  return {\n    priority: 1,\n    enabled: true,\n    compute(event, state, previous) {\n      // https://github.com/pmndrs/react-three-fiber/pull/782\n      // Events trigger outside of canvas when moved, use offsetX/Y by default and allow overrides\n      state.pointer.set(event.offsetX / state.size.width * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n      state.raycaster.setFromCamera(state.pointer, state.camera);\n    },\n    connected: undefined,\n    handlers: Object.values(EVENTS).reduce((acc, name) => ({\n      ...acc,\n      [name]: event => handleTouch(event, name)\n    }), {}),\n    update: () => {\n      var _internal$lastEvent;\n      const {\n        events,\n        internal\n      } = store.getState();\n      if ((_internal$lastEvent = internal.lastEvent) != null && _internal$lastEvent.current && events.handlers) events.handlers.onPointerMove(internal.lastEvent.current);\n    },\n    connect: () => {\n      const {\n        set,\n        events\n      } = store.getState();\n      events.disconnect == null ? void 0 : events.disconnect();\n      const connected = new Pressability(events.handlers);\n      set(state => ({\n        events: {\n          ...state.events,\n          connected\n        }\n      }));\n      const handlers = connected.getEventHandlers();\n      return handlers;\n    },\n    disconnect: () => {\n      const {\n        set,\n        events\n      } = store.getState();\n      if (events.connected) {\n        events.connected.reset();\n        set(state => ({\n          events: {\n            ...state.events,\n            connected: undefined\n          }\n        }));\n      }\n    }\n  };\n}\n\n// Check if expo-asset is installed (available with expo modules)\nlet expAsset;\ntry {\n  var _require;\n  expAsset = (_require = require('expo-asset')) == null ? void 0 : _require.Asset;\n} catch (_) {}\n\n/**\n * Generates an asset based on input type.\n */\nfunction getAsset(input) {\n  switch (typeof input) {\n    case 'string':\n      return expAsset.fromURI(input);\n    case 'number':\n      return expAsset.fromModule(input);\n    default:\n      throw new Error('R3F: Invalid asset! Must be a URI or module.');\n  }\n}\nlet injected = false;\nfunction polyfills() {\n  if (!expAsset || injected) return;\n  injected = true;\n\n  // Don't pre-process urls, let expo-asset generate an absolute URL\n  const extractUrlBase = THREE.LoaderUtils.extractUrlBase.bind(THREE.LoaderUtils);\n  THREE.LoaderUtils.extractUrlBase = url => typeof url === 'string' ? extractUrlBase(url) : './';\n\n  // There's no Image in native, so create a data texture instead\n  const prevTextureLoad = THREE.TextureLoader.prototype.load;\n  THREE.TextureLoader.prototype.load = function load(url, onLoad, onProgress, onError) {\n    const texture = new THREE.Texture();\n\n    // @ts-ignore\n    texture.isDataTexture = true;\n    getAsset(url).downloadAsync().then(asset => {\n      texture.image = {\n        data: asset,\n        width: asset.width,\n        height: asset.height\n      };\n      texture.flipY = true;\n      texture.unpackAlignment = 1;\n      texture.needsUpdate = true;\n      onLoad == null ? void 0 : onLoad(texture);\n    }).catch(onError);\n    return texture;\n  };\n\n  // Fetches assets via XMLHttpRequest\n  const prevFileLoad = THREE.FileLoader.prototype.load;\n  THREE.FileLoader.prototype.load = function (url, onLoad, onProgress, onError) {\n    if (this.path) url = this.path + url;\n    const request = new XMLHttpRequest();\n    getAsset(url).downloadAsync().then(asset => {\n      request.open('GET', asset.uri, true);\n      request.addEventListener('load', event => {\n        if (request.status === 200) {\n          onLoad == null ? void 0 : onLoad(request.response);\n          this.manager.itemEnd(url);\n        } else {\n          onError == null ? void 0 : onError(event);\n          this.manager.itemError(url);\n          this.manager.itemEnd(url);\n        }\n      }, false);\n      request.addEventListener('progress', event => {\n        onProgress == null ? void 0 : onProgress(event);\n      }, false);\n      request.addEventListener('error', event => {\n        onError == null ? void 0 : onError(event);\n        this.manager.itemError(url);\n        this.manager.itemEnd(url);\n      }, false);\n      request.addEventListener('abort', event => {\n        onError == null ? void 0 : onError(event);\n        this.manager.itemError(url);\n        this.manager.itemEnd(url);\n      }, false);\n      if (this.responseType) request.responseType = this.responseType;\n      if (this.withCredentials) request.withCredentials = this.withCredentials;\n      for (const header in this.requestHeader) {\n        request.setRequestHeader(header, this.requestHeader[header]);\n      }\n      request.send(null);\n      this.manager.itemStart(url);\n    });\n    return request;\n  };\n\n  // Cleanup function\n  return () => {\n    THREE.LoaderUtils.extractUrlBase = extractUrlBase;\n    THREE.TextureLoader.prototype.load = prevTextureLoad;\n    THREE.FileLoader.prototype.load = prevFileLoad;\n  };\n}\n\n/**\n * A native canvas which accepts threejs elements as children.\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\n */\nconst CanvasImpl = /*#__PURE__*/React.forwardRef((_ref, forwardedRef) => {\n  let {\n    children,\n    style,\n    gl,\n    events = createTouchEvents,\n    shadows,\n    linear,\n    flat,\n    legacy,\n    orthographic,\n    frameloop,\n    performance,\n    raycaster,\n    camera,\n    onPointerMissed,\n    onCreated,\n    ...props\n  } = _ref;\n  // Create a known catalogue of Threejs-native elements\n  // This will include the entire THREE namespace by default, users can extend\n  // their own elements by using the createRoot API instead\n  React.useMemo(() => extend(THREE), []);\n  const Bridge = useContextBridge();\n  const [{\n    width,\n    height,\n    top,\n    left\n  }, setSize] = React.useState({\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0\n  });\n  const [canvas, setCanvas] = React.useState(null);\n  const [bind, setBind] = React.useState();\n  React.useImperativeHandle(forwardedRef, () => viewRef.current);\n  const handlePointerMissed = useMutableCallback(onPointerMissed);\n  const [block, setBlock] = React.useState(false);\n  const [error, setError] = React.useState(undefined);\n\n  // Suspend this component if block is a promise (2nd run)\n  if (block) throw block;\n  // Throw exception outwards if anything within canvas throws\n  if (error) throw error;\n  const viewRef = React.useRef(null);\n  const root = React.useRef(null);\n\n  // Inject and cleanup RN polyfills if able\n  React.useLayoutEffect(() => polyfills(), []);\n  const onLayout = React.useCallback(e => {\n    const {\n      width,\n      height,\n      x,\n      y\n    } = e.nativeEvent.layout;\n    setSize({\n      width,\n      height,\n      top: y,\n      left: x\n    });\n  }, []);\n\n  // Called on context create or swap\n  // https://github.com/pmndrs/react-three-fiber/pull/2297\n  const onContextCreate = React.useCallback(context => {\n    const canvasShim = {\n      width: context.drawingBufferWidth,\n      height: context.drawingBufferHeight,\n      style: {},\n      addEventListener: () => {},\n      removeEventListener: () => {},\n      clientHeight: context.drawingBufferHeight,\n      getContext: () => context\n    };\n    root.current = createRoot(canvasShim);\n    setCanvas(canvasShim);\n  }, []);\n  if (root.current && width > 0 && height > 0) {\n    root.current.configure({\n      gl,\n      events,\n      shadows,\n      linear,\n      flat,\n      legacy,\n      orthographic,\n      frameloop,\n      performance,\n      raycaster,\n      camera,\n      // expo-gl can only render at native dpr/resolution\n      // https://github.com/expo/expo-three/issues/39\n      dpr: PixelRatio.get(),\n      size: {\n        width,\n        height,\n        top,\n        left\n      },\n      // Pass mutable reference to onPointerMissed so it's free to update\n      onPointerMissed: function () {\n        return handlePointerMissed.current == null ? void 0 : handlePointerMissed.current(...arguments);\n      },\n      // Overwrite onCreated to apply RN bindings\n      onCreated: state => {\n        // Bind events after creation\n        const handlers = state.events.connect == null ? void 0 : state.events.connect(viewRef.current);\n        setBind(handlers);\n\n        // Bind render to RN bridge\n        const context = state.gl.getContext();\n        const renderFrame = state.gl.render.bind(state.gl);\n        state.gl.render = (scene, camera) => {\n          renderFrame(scene, camera);\n          context.endFrameEXP();\n        };\n        return onCreated == null ? void 0 : onCreated(state);\n      }\n    });\n    root.current.render( /*#__PURE__*/React.createElement(Bridge, null, /*#__PURE__*/React.createElement(ErrorBoundary, {\n      set: setError\n    }, /*#__PURE__*/React.createElement(React.Suspense, {\n      fallback: /*#__PURE__*/React.createElement(Block, {\n        set: setBlock\n      })\n    }, children))));\n  }\n  React.useEffect(() => {\n    if (canvas) {\n      return () => unmountComponentAtNode(canvas);\n    }\n  }, [canvas]);\n  return /*#__PURE__*/React.createElement(View, _extends({}, props, {\n    ref: viewRef,\n    onLayout: onLayout,\n    style: {\n      flex: 1,\n      ...style\n    }\n  }, bind), width > 0 && /*#__PURE__*/React.createElement(GLView, {\n    onContextCreate: onContextCreate,\n    style: StyleSheet.absoluteFill\n  }));\n});\n\n/**\n * A native canvas which accepts threejs elements as children.\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\n */\nconst Canvas = /*#__PURE__*/React.forwardRef(function CanvasWrapper(props, ref) {\n  return /*#__PURE__*/React.createElement(FiberProvider, null, /*#__PURE__*/React.createElement(CanvasImpl, _extends({}, props, {\n    ref: ref\n  })));\n});\nexport { Canvas, createTouchEvents as events };","map":{"version":3,"names":["c","createEvents","e","extend","u","useMutableCallback","a","createRoot","E","ErrorBoundary","B","Block","d","unmountComponentAtNode","t","ReactThreeFiber","w","_roots","v","act","o","addAfterEffect","n","addEffect","p","addTail","m","advance","j","applyProps","f","context","g","createPortal","k","dispose","q","flushGlobalEffects","s","getRootState","l","invalidate","h","reconciler","r","render","A","useFrame","C","useGraph","x","useInstanceHandle","D","useLoader","y","useStore","z","useThree","_extends","React","THREE","PixelRatio","View","StyleSheet","GLView","FiberProvider","useContextBridge","Pressability","EVENTS","PRESS","PRESSIN","PRESSOUT","LONGPRESS","HOVERIN","HOVEROUT","PRESSMOVE","DOM_EVENTS","createTouchEvents","store","handlePointer","handleTouch","event","name","persist","nativeEvent","offsetX","locationX","offsetY","locationY","callback","priority","enabled","compute","state","previous","pointer","set","size","width","height","raycaster","setFromCamera","camera","connected","undefined","handlers","Object","values","reduce","acc","update","_internal$lastEvent","events","internal","getState","lastEvent","current","onPointerMove","connect","disconnect","getEventHandlers","reset","expAsset","_require","require","Asset","_","getAsset","input","fromURI","fromModule","Error","injected","polyfills","extractUrlBase","LoaderUtils","bind","url","prevTextureLoad","TextureLoader","prototype","load","onLoad","onProgress","onError","texture","Texture","isDataTexture","downloadAsync","then","asset","image","data","flipY","unpackAlignment","needsUpdate","catch","prevFileLoad","FileLoader","path","request","XMLHttpRequest","open","uri","addEventListener","status","response","manager","itemEnd","itemError","responseType","withCredentials","header","requestHeader","setRequestHeader","send","itemStart","CanvasImpl","forwardRef","forwardedRef","children","style","gl","shadows","linear","flat","legacy","orthographic","frameloop","performance","onPointerMissed","onCreated","props","useMemo","Bridge","top","left","setSize","useState","canvas","setCanvas","setBind","useImperativeHandle","viewRef","handlePointerMissed","block","setBlock","error","setError","useRef","root","useLayoutEffect","onLayout","useCallback","layout","onContextCreate","canvasShim","drawingBufferWidth","drawingBufferHeight","removeEventListener","clientHeight","getContext","configure","dpr","get","renderFrame","scene","endFrameEXP","createElement","Suspense","fallback","useEffect","ref","flex","absoluteFill","Canvas","CanvasWrapper"],"sources":["/Users/user/Documents/GitHub/tetris-garden/my-app/node_modules/@react-three/fiber/native/dist/react-three-fiber-native.esm.js"],"sourcesContent":["import { c as createEvents, e as extend, u as useMutableCallback, a as createRoot, E as ErrorBoundary, B as Block, d as unmountComponentAtNode } from '../../dist/index-7dbf758c.esm.js';\nexport { t as ReactThreeFiber, w as _roots, v as act, o as addAfterEffect, n as addEffect, p as addTail, m as advance, j as applyProps, f as context, c as createEvents, g as createPortal, a as createRoot, k as dispose, e as extend, q as flushGlobalEffects, s as getRootState, l as invalidate, h as reconciler, r as render, d as unmountComponentAtNode, A as useFrame, C as useGraph, x as useInstanceHandle, D as useLoader, y as useStore, z as useThree } from '../../dist/index-7dbf758c.esm.js';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { PixelRatio, View, StyleSheet } from 'react-native';\nimport { GLView } from 'expo-gl';\nimport { FiberProvider, useContextBridge } from 'its-fine';\nimport Pressability from 'react-native/Libraries/Pressability/Pressability';\nimport 'react-reconciler/constants';\nimport 'zustand';\nimport 'react-reconciler';\nimport 'scheduler';\nimport 'suspend-react';\n\n/* eslint-enable import/default, import/no-named-as-default, import/no-named-as-default-member */\n\nconst EVENTS = {\n  PRESS: 'onPress',\n  PRESSIN: 'onPressIn',\n  PRESSOUT: 'onPressOut',\n  LONGPRESS: 'onLongPress',\n  HOVERIN: 'onHoverIn',\n  HOVEROUT: 'onHoverOut',\n  PRESSMOVE: 'onPressMove'\n};\nconst DOM_EVENTS = {\n  [EVENTS.PRESS]: 'onClick',\n  [EVENTS.PRESSIN]: 'onPointerDown',\n  [EVENTS.PRESSOUT]: 'onPointerUp',\n  [EVENTS.LONGPRESS]: 'onDoubleClick',\n  [EVENTS.HOVERIN]: 'onPointerOver',\n  [EVENTS.HOVEROUT]: 'onPointerOut',\n  [EVENTS.PRESSMOVE]: 'onPointerMove'\n};\n\n/** Default R3F event manager for react-native */\nfunction createTouchEvents(store) {\n  const {\n    handlePointer\n  } = createEvents(store);\n  const handleTouch = (event, name) => {\n    event.persist()\n\n    // Apply offset\n    ;\n    event.nativeEvent.offsetX = event.nativeEvent.locationX;\n    event.nativeEvent.offsetY = event.nativeEvent.locationY;\n\n    // Emulate DOM event\n    const callback = handlePointer(DOM_EVENTS[name]);\n    return callback(event.nativeEvent);\n  };\n  return {\n    priority: 1,\n    enabled: true,\n    compute(event, state, previous) {\n      // https://github.com/pmndrs/react-three-fiber/pull/782\n      // Events trigger outside of canvas when moved, use offsetX/Y by default and allow overrides\n      state.pointer.set(event.offsetX / state.size.width * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n      state.raycaster.setFromCamera(state.pointer, state.camera);\n    },\n    connected: undefined,\n    handlers: Object.values(EVENTS).reduce((acc, name) => ({\n      ...acc,\n      [name]: event => handleTouch(event, name)\n    }), {}),\n    update: () => {\n      var _internal$lastEvent;\n      const {\n        events,\n        internal\n      } = store.getState();\n      if ((_internal$lastEvent = internal.lastEvent) != null && _internal$lastEvent.current && events.handlers) events.handlers.onPointerMove(internal.lastEvent.current);\n    },\n    connect: () => {\n      const {\n        set,\n        events\n      } = store.getState();\n      events.disconnect == null ? void 0 : events.disconnect();\n      const connected = new Pressability(events.handlers);\n      set(state => ({\n        events: {\n          ...state.events,\n          connected\n        }\n      }));\n      const handlers = connected.getEventHandlers();\n      return handlers;\n    },\n    disconnect: () => {\n      const {\n        set,\n        events\n      } = store.getState();\n      if (events.connected) {\n        events.connected.reset();\n        set(state => ({\n          events: {\n            ...state.events,\n            connected: undefined\n          }\n        }));\n      }\n    }\n  };\n}\n\n// Check if expo-asset is installed (available with expo modules)\nlet expAsset;\ntry {\n  var _require;\n  expAsset = (_require = require('expo-asset')) == null ? void 0 : _require.Asset;\n} catch (_) {}\n\n/**\n * Generates an asset based on input type.\n */\nfunction getAsset(input) {\n  switch (typeof input) {\n    case 'string':\n      return expAsset.fromURI(input);\n    case 'number':\n      return expAsset.fromModule(input);\n    default:\n      throw new Error('R3F: Invalid asset! Must be a URI or module.');\n  }\n}\nlet injected = false;\nfunction polyfills() {\n  if (!expAsset || injected) return;\n  injected = true;\n\n  // Don't pre-process urls, let expo-asset generate an absolute URL\n  const extractUrlBase = THREE.LoaderUtils.extractUrlBase.bind(THREE.LoaderUtils);\n  THREE.LoaderUtils.extractUrlBase = url => typeof url === 'string' ? extractUrlBase(url) : './';\n\n  // There's no Image in native, so create a data texture instead\n  const prevTextureLoad = THREE.TextureLoader.prototype.load;\n  THREE.TextureLoader.prototype.load = function load(url, onLoad, onProgress, onError) {\n    const texture = new THREE.Texture();\n\n    // @ts-ignore\n    texture.isDataTexture = true;\n    getAsset(url).downloadAsync().then(asset => {\n      texture.image = {\n        data: asset,\n        width: asset.width,\n        height: asset.height\n      };\n      texture.flipY = true;\n      texture.unpackAlignment = 1;\n      texture.needsUpdate = true;\n      onLoad == null ? void 0 : onLoad(texture);\n    }).catch(onError);\n    return texture;\n  };\n\n  // Fetches assets via XMLHttpRequest\n  const prevFileLoad = THREE.FileLoader.prototype.load;\n  THREE.FileLoader.prototype.load = function (url, onLoad, onProgress, onError) {\n    if (this.path) url = this.path + url;\n    const request = new XMLHttpRequest();\n    getAsset(url).downloadAsync().then(asset => {\n      request.open('GET', asset.uri, true);\n      request.addEventListener('load', event => {\n        if (request.status === 200) {\n          onLoad == null ? void 0 : onLoad(request.response);\n          this.manager.itemEnd(url);\n        } else {\n          onError == null ? void 0 : onError(event);\n          this.manager.itemError(url);\n          this.manager.itemEnd(url);\n        }\n      }, false);\n      request.addEventListener('progress', event => {\n        onProgress == null ? void 0 : onProgress(event);\n      }, false);\n      request.addEventListener('error', event => {\n        onError == null ? void 0 : onError(event);\n        this.manager.itemError(url);\n        this.manager.itemEnd(url);\n      }, false);\n      request.addEventListener('abort', event => {\n        onError == null ? void 0 : onError(event);\n        this.manager.itemError(url);\n        this.manager.itemEnd(url);\n      }, false);\n      if (this.responseType) request.responseType = this.responseType;\n      if (this.withCredentials) request.withCredentials = this.withCredentials;\n      for (const header in this.requestHeader) {\n        request.setRequestHeader(header, this.requestHeader[header]);\n      }\n      request.send(null);\n      this.manager.itemStart(url);\n    });\n    return request;\n  };\n\n  // Cleanup function\n  return () => {\n    THREE.LoaderUtils.extractUrlBase = extractUrlBase;\n    THREE.TextureLoader.prototype.load = prevTextureLoad;\n    THREE.FileLoader.prototype.load = prevFileLoad;\n  };\n}\n\n/**\n * A native canvas which accepts threejs elements as children.\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\n */\nconst CanvasImpl = /*#__PURE__*/React.forwardRef(({\n  children,\n  style,\n  gl,\n  events = createTouchEvents,\n  shadows,\n  linear,\n  flat,\n  legacy,\n  orthographic,\n  frameloop,\n  performance,\n  raycaster,\n  camera,\n  onPointerMissed,\n  onCreated,\n  ...props\n}, forwardedRef) => {\n  // Create a known catalogue of Threejs-native elements\n  // This will include the entire THREE namespace by default, users can extend\n  // their own elements by using the createRoot API instead\n  React.useMemo(() => extend(THREE), []);\n  const Bridge = useContextBridge();\n  const [{\n    width,\n    height,\n    top,\n    left\n  }, setSize] = React.useState({\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0\n  });\n  const [canvas, setCanvas] = React.useState(null);\n  const [bind, setBind] = React.useState();\n  React.useImperativeHandle(forwardedRef, () => viewRef.current);\n  const handlePointerMissed = useMutableCallback(onPointerMissed);\n  const [block, setBlock] = React.useState(false);\n  const [error, setError] = React.useState(undefined);\n\n  // Suspend this component if block is a promise (2nd run)\n  if (block) throw block;\n  // Throw exception outwards if anything within canvas throws\n  if (error) throw error;\n  const viewRef = React.useRef(null);\n  const root = React.useRef(null);\n\n  // Inject and cleanup RN polyfills if able\n  React.useLayoutEffect(() => polyfills(), []);\n  const onLayout = React.useCallback(e => {\n    const {\n      width,\n      height,\n      x,\n      y\n    } = e.nativeEvent.layout;\n    setSize({\n      width,\n      height,\n      top: y,\n      left: x\n    });\n  }, []);\n\n  // Called on context create or swap\n  // https://github.com/pmndrs/react-three-fiber/pull/2297\n  const onContextCreate = React.useCallback(context => {\n    const canvasShim = {\n      width: context.drawingBufferWidth,\n      height: context.drawingBufferHeight,\n      style: {},\n      addEventListener: () => {},\n      removeEventListener: () => {},\n      clientHeight: context.drawingBufferHeight,\n      getContext: () => context\n    };\n    root.current = createRoot(canvasShim);\n    setCanvas(canvasShim);\n  }, []);\n  if (root.current && width > 0 && height > 0) {\n    root.current.configure({\n      gl,\n      events,\n      shadows,\n      linear,\n      flat,\n      legacy,\n      orthographic,\n      frameloop,\n      performance,\n      raycaster,\n      camera,\n      // expo-gl can only render at native dpr/resolution\n      // https://github.com/expo/expo-three/issues/39\n      dpr: PixelRatio.get(),\n      size: {\n        width,\n        height,\n        top,\n        left\n      },\n      // Pass mutable reference to onPointerMissed so it's free to update\n      onPointerMissed: (...args) => handlePointerMissed.current == null ? void 0 : handlePointerMissed.current(...args),\n      // Overwrite onCreated to apply RN bindings\n      onCreated: state => {\n        // Bind events after creation\n        const handlers = state.events.connect == null ? void 0 : state.events.connect(viewRef.current);\n        setBind(handlers);\n\n        // Bind render to RN bridge\n        const context = state.gl.getContext();\n        const renderFrame = state.gl.render.bind(state.gl);\n        state.gl.render = (scene, camera) => {\n          renderFrame(scene, camera);\n          context.endFrameEXP();\n        };\n        return onCreated == null ? void 0 : onCreated(state);\n      }\n    });\n    root.current.render( /*#__PURE__*/React.createElement(Bridge, null, /*#__PURE__*/React.createElement(ErrorBoundary, {\n      set: setError\n    }, /*#__PURE__*/React.createElement(React.Suspense, {\n      fallback: /*#__PURE__*/React.createElement(Block, {\n        set: setBlock\n      })\n    }, children))));\n  }\n  React.useEffect(() => {\n    if (canvas) {\n      return () => unmountComponentAtNode(canvas);\n    }\n  }, [canvas]);\n  return /*#__PURE__*/React.createElement(View, _extends({}, props, {\n    ref: viewRef,\n    onLayout: onLayout,\n    style: {\n      flex: 1,\n      ...style\n    }\n  }, bind), width > 0 && /*#__PURE__*/React.createElement(GLView, {\n    onContextCreate: onContextCreate,\n    style: StyleSheet.absoluteFill\n  }));\n});\n\n/**\n * A native canvas which accepts threejs elements as children.\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\n */\nconst Canvas = /*#__PURE__*/React.forwardRef(function CanvasWrapper(props, ref) {\n  return /*#__PURE__*/React.createElement(FiberProvider, null, /*#__PURE__*/React.createElement(CanvasImpl, _extends({}, props, {\n    ref: ref\n  })));\n});\n\nexport { Canvas, createTouchEvents as events };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}